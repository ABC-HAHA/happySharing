(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tuwenPromoting/detail/detail"],{"02fc":function(t,e,a){"use strict";a.r(e);var n=a("2bd3"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},"0c58":function(t,e,a){"use strict";var n=a("18f5"),i=a.n(n);i.a},"16d7":function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},"18f5":function(t,e,a){},"2bd3":function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(a("5cde")),o=u(a("79ca")),s=u(a("d206"));function u(t){return t&&t.__esModule?t:{default:t}}var r,l,c,d,f,h=function(){return a.e("components/uni-popup/uni-popup").then(a.bind(null,"f77a"))},p=function(){return a.e("components/share/share").then(a.bind(null,"9e5d"))},m=[],g={data:function(){return{cancelShow:!1,showSwiperValue:!1,showUpload:!1,btnArray:"",btnIndex:0,checkValue:!0,flag:!1,detailData:[],upperLimit:0,isLimit:!1,upPic:"",upPicList:"",type:""}},methods:{showSwiper:function(){this.showSwiperValue=!this.showSwiperValue,this.flag=!this.flag,console.log(t(this.showSwiperValue," at pages\\tuwenPromoting\\detail\\detail.vue:93"))},closeSwiper:function(){this.showSwiperValue=!this.showSwiperValue,this.flag=!this.flag},closeAlert:function(){this.cancelShow=!1},getTask:function(e){console.log(t(this.$store.state.userInfo.status," at pages\\tuwenPromoting\\detail\\detail.vue:108")),this.$store.state.isLogin?this.$store.state.userInfo.inviteGroupId>=this.detailData.taskLevel?(console.log(t(this.btnIndex," at pages\\tuwenPromoting\\detail\\detail.vue:114")),1==this.btnIndex?(console.log(t(this.btnIndex," at pages\\tuwenPromoting\\detail\\detail.vue:117")),console.log(t(l," at pages\\tuwenPromoting\\detail\\detail.vue:118")),console.log(t(this.$store.state.isLogin," at pages\\tuwenPromoting\\detail\\detail.vue:119")),r=this,n.request({url:this.websiteUrl+"/api/task/recieve",method:"GET",header:{Authorization:d},data:{esaid:l,userId:c},success:function(e){console.log(t(e,11111111111," at pages\\tuwenPromoting\\detail\\detail.vue:132")),601==e.data.code?(n.showToast({title:"请去审核账户！",mask:!0}),n.redirectTo({url:"/pages/mine/auditPage",animationType:"slide-in-right",animationDuration:300})):705==e.data.code?(plus.nativeUI.toast(e.data.msg),r.btnIndex=2):200==e.data.code&&(r.showUpload=!0,n.showToast({title:"领取成功",mask:!0}),r.btnArray="提交审核",r.btnIndex=2)}})):2==this.btnIndex&&(console.log(t("点击了提交审核"," at pages\\tuwenPromoting\\detail\\detail.vue:167")),this.submitAudit())):plus.nativeUI.toast("请领取匹配自己账户等级的任务!!!"):(this.cancelShow=!0,console.log(t("未登录"," at pages\\tuwenPromoting\\detail\\detail.vue:177")))},copy:function(){var t=this.detailData.esaDescribe1;n.setClipboardData({data:this.strFormat(t),success:function(){n.showToast({title:"复制成功",mask:!0}),setTimeout(function(){n.hideToast()},2e3)}})},strFormat:function(t){return t.replace(/<br\s*\/?>/gi,"\r\n")},hidePopup:function(){this.type=""},share:function(){this.type="bottom_share"},successShare:function(){n.showToast({title:"分享成功！！！",mask:!0})},failShare:function(){n.showToast({title:"分享失败！！！",mask:!0})},savePic:function(){var e=[],a=!0,n=!1,o=void 0;try{for(var s,u=this.detailData["esaLinkInfoList"][Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var r=s.value;e.push(r.linkComment)}}catch(l){n=!0,o=l}finally{try{a||null==u.return||u.return()}finally{if(n)throw o}}i.default.downloadSaveFiles({urls:e,success:function(t){},fail:function(e){console.info(t("下载失败"," at pages\\tuwenPromoting\\detail\\detail.vue:259"))}})},upload:function(){var t=this;n.chooseImage({success:function(e){var a=e.tempFilePaths;n.uploadFile({url:t.websiteUrl+"/api/file/uploadFile",filePath:a[0],name:"file",header:{Authorization:d},success:function(t){n.showToast({title:"上传成功",mask:!0}),r.upPic=JSON.parse(t.data).imgurl,m.push(r.upPic),r.checkValue=!1}})}})},submitAudit:function(){0==m.length?plus.nativeUI.toast("请上传需要审核的照片！！！"):n.request({url:this.websiteUrl+"/api/comnet/audit",method:"POST",header:{Authorization:d},data:{extendId:f,imgList:m},success:function(e){console.log(t(e.data," at pages\\tuwenPromoting\\detail\\detail.vue:309")),n.showToast({title:"提交审核成功",mask:!0}),r.showUpload=!0,r.checkValue=!1,1==e.data.status&&(r.btnArray=e.data.statusStr,r.btnIndex=3)}})}},components:{UniSwiperDot:o.default,hFormAlert:s.default,uniPopup:h,sharePage:p},onLoad:function(e){c=this.$store.state.userInfo.userId,d=this.$store.state.userInfo.token,r=this,l=e.esaId,console.log(t(l," at pages\\tuwenPromoting\\detail\\detail.vue:339")),this.$store.state.isLogin?(console.log(t("已经登录"," at pages\\tuwenPromoting\\detail\\detail.vue:342")),n.request({url:this.websiteUrl+"/api/comnet/info/"+l,method:"GET",data:{userId:c},success:function(e){r.detailData=e.data.data,f=r.detailData.extendInfoId,console.log(t(r.detailData," at pages\\tuwenPromoting\\detail\\detail.vue:353")),r.upperLimit=r.detailData.esaUsedCount,r.upperLimit>=r.detailData.esaTotalCount?(r.isLimit=!0,r.btnArray="任务已达上限"):(-1==r.detailData.status&&(r.btnIndex=1,r.btnArray="领取任务"),0==r.detailData.status&&(r.btnIndex=2,r.btnArray=r.detailData.statusStr,r.showUpload=!0),1==r.detailData.status&&(r.btnIndex=3,r.btnArray=r.detailData.statusStr,r.showUpload=!0,r.checkValue=!1,r.upPicList=r.detailData.imgs[0].image),2==r.detailData.status&&(r.btnArray=r.detailData.statusStr,r.showUpload=!1,r.checkValue=!0,r.detailData.status,r.btnIndex=1,r.btnArray="领取任务"),3==r.detailData.status&&(r.btnArray=r.detailData.statusStr,r.showUpload=!0,r.checkValue=!1))}})):(console.log(t("未登录"," at pages\\tuwenPromoting\\detail\\detail.vue:420")),n.request({url:this.websiteUrl+"/api/comnet/info/"+l,method:"GET",success:function(t){r.detailData=t.data.data,r.upperLimit=r.detailData.esaUsedCount,r.upperLimit>=r.detailData.esaTotalCount?(r.isLimit=!0,r.btnArray="任务已达上限"):-1==r.detailData.status&&(r.btnIndex=1,r.btnArray="领取任务")}}))},onShow:function(){}};e.default=g}).call(this,a("0de9")["default"],a("6e42")["default"])},3521:function(t,e,a){},"3a05":function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},5568:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},"797d":function(t,e,a){"use strict";a.r(e);var n=a("bbba"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},"79ca":function(t,e,a){"use strict";a.r(e);var n=a("3a05"),i=a("797d");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("0c58");var s,u=a("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=r.exports},"821f":function(t,e,a){"use strict";(function(t){a("03a2"),a("921b");n(a("66fd"));var e=n(a("e499"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"8d81":function(t,e,a){"use strict";var n=a("3521"),i=a.n(n);i.a},b016:function(t,e,a){"use strict";a.r(e);var n=a("ea76"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},bbba:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{current:0,swiperCurrent:0,currIndex:1}},methods:{changeSwiper:function(t){this.swiperCurrent=t.detail.current,this.currIndex=t.detail.current+1}},props:{swiperImg:{type:Array}},onLoad:function(){}};e.default=n},c4d3:function(t,e,a){},d206:function(t,e,a){"use strict";a.r(e);var n=a("5568"),i=a("b016");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("fc4e");var s,u=a("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"210b6dec",null,!1,n["a"],s);e["default"]=r.exports},e499:function(t,e,a){"use strict";a.r(e);var n=a("16d7"),i=a("02fc");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("8d81");var s,u=a("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"17b3c36f",null,!1,n["a"],s);e["default"]=r.exports},ea76:function(t,e,a){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{title:{type:String,default:"网赚登录"}},data:function(){return{maskValue:!0,inviteCode:""}},onLoad:function(){var e=this;t.getStorage({key:"openinstallInfo",success:function(t){console.log(a("ok"," at components\\h-form-alert\\h-form-alert.vue:37")),e.inviteCode=JSON.parse(JSON.parse(t.data).bindData).inviteCode}})},methods:{closeMask:function(){this.$emit("closeEvent")},weixinlogin:function(){var e=this;t.login({provider:"weixin",success:function(a){t.getUserInfo({provider:"weixin",success:function(t){e.toWeixinLogin(a,t)}})}})},toWeixinLogin:function(e,a){var n=this,i={openid:e.authResult.openid,nickname:a.userInfo.nickName,headimgurl:a.userInfo.avatarUrl,accessToken:e.authResult.access_token,refreshToken:e.authResult.refresh_token,inviteCode:n.inviteCode};t.request({url:this.websiteUrl+"/api/user/weixin",method:"POST",data:i,success:function(e){200==e.data.code?(n.$store.commit("login",e.data.user),t.switchTab({url:"/pages/tarbar/mine/mine",animationType:"slide-in-right"})):plus.nativeUI.toast(e.data.msg)},fail:function(){},complete:function(){}})},iphonelogin:function(){t.navigateTo({url:"/pages/mine/login",animationType:"slide-in-right"})}}};e.default=n}).call(this,a("6e42")["default"],a("0de9")["default"])},fc4e:function(t,e,a){"use strict";var n=a("c4d3"),i=a.n(n);i.a}},[["821f","common/runtime","common/vendor"]]]);